<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.springpj.request.repository.RequestMapper">

    <resultMap id="requestMap" type="com.example.springpj.request.domain.Request">
        <result property="asNum" column="as_num" />
        <result property="cdId" column="cd_id" />
        <result property="productName" column="product_name" />
        <result property="asChoice" column="as_choice" />
        <result property="asComment" column="as_comment" />
        <result property="asDate" column="as_date" />
    </resultMap>

    <!-- AS 목록 조회   -->
    <select id="getList" resultMap="requestMap">
        SELECT * FROM service_admin
    </select>

    <!-- AS 신청    -->
    <insert id="insertRequest">
        INSERT INTO as_apply (as_num, cs_id, product_name, amount, as_choice, as_comment)
        VALUES
        (seq_as_apply.nextval, #{csId}, #{productName}, #{amount}, #{asChoice}, #{asComment})
    </insert>


</mapper>